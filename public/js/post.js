webpackJsonp([1],{0:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function l(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=l(s),i=n(418),f=l(i),d=n(30),h=l(d),p=n(163),y=o(p),w=n(416),E=l(w),v=n(417),b=o(v),C=function(e){function t(e){a(this,t);var n=r(this,Object.getPrototypeOf(t).call(this,e));return n.state={comments:window.loopComments,numberOfComments:window.loopComments.length,commentSubmitted:!1,thisComment:null,thisCommentIndex:null,showConfirm:null},n}return u(t,e),m(t,[{key:"close",value:function(){this.setState({showConfirm:!1})}},{key:"open",value:function(e,t){this.setState({showConfirm:!0,thisComment:e,thisCommentIndex:t})}},{key:"postComment",value:function(){var e=this,t={comment:h["default"].findDOMNode(this.refs.submitComment).value,idposts:window.idposts,username:window.user};E["default"].post("../api/v1/newcomment",t,function(t){E["default"].get("../api/v1/comments/"+idposts,function(t){e.setState({comments:t})})}),this.setState({commentSubmitted:!0})}},{key:"deleteComment",value:function(){var e=this,t={comment:this.state.thisComment};E["default"].post("../api/v1/deletecomment/",t,function(){e.setState({comments:(0,f["default"])(e.state.comments,{$splice:[[e.state.thisCommentIndex,1]]})})}),this.setState({showConfirm:!1})}},{key:"render",value:function(){var e=this,t=null;t=""!==window.user&&0==this.state.commentSubmitted?c["default"].createElement(y.Row,{className:"addCommentForm"},c["default"].createElement("h4",null,this.state.numberOfComments," Comments"),c["default"].createElement(y.FormGroup,null,c["default"].createElement(y.FormControl,{ref:"submitComment",componentClass:"textarea",type:"text"})),c["default"].createElement(y.ButtonGroup,null,c["default"].createElement(y.Button,{onClick:this.postComment.bind(this)},"Submit"))):""!==window.user&&1==this.state.commentSubmitted?c["default"].createElement(y.Row,null,c["default"].createElement("h4",null,"Thanks!")):c["default"].createElement(y.Row,{className:"addCommentForm"},c["default"].createElement("h4",null,this.state.numberOfComments," Comments ",c["default"].createElement("b",null,"(Please log in to comment!)")));var n=this.state.comments.map(function(t){return window.user==t.username?c["default"].createElement("div",null,c["default"].createElement(y.Row,{className:"commentRow",onClick:e.open.bind(e,t.idcomments,e.state.comments.indexOf(t))},c["default"].createElement(y.Col,{xs:3,sm:2},c["default"].createElement(y.Image,{className:"commentImg",src:t.avatar,responsive:!0,circle:!0})),c["default"].createElement(y.Col,{xs:9,sm:10},c["default"].createElement(y.Panel,{className:"commentPanel",header:t.username},t.comment,c["default"].createElement("div",{className:"commentDeletion"},c["default"].createElement(y.Glyphicon,{glyph:"glyphicon glyphicon-remove"})))))):c["default"].createElement("div",null,c["default"].createElement(y.Row,{className:"commentRow"},c["default"].createElement(y.Col,{xs:3,sm:2},c["default"].createElement(y.Image,{className:"commentImg",src:t.avatar,responsive:!0,circle:!0})),c["default"].createElement(y.Col,{xs:9,sm:10},c["default"].createElement(y.Panel,{className:"commentPanel",header:t.username},t.comment))))});return c["default"].createElement("div",null,c["default"].createElement(y.Row,null,c["default"].createElement("div",{className:"postHeader"},c["default"].createElement("h2",null,window.title),c["default"].createElement("div",null,"by ",window.owner)),c["default"].createElement("div",null,window.article)),t,c["default"].createElement(y.Row,{className:"commentsBox"},n),c["default"].createElement(y.Modal,{show:this.state.showConfirm,onHide:this.close.bind(this)},c["default"].createElement(y.Modal.Header,{closeButton:!0}),c["default"].createElement(y.Modal.Body,null,c["default"].createElement("h4",null,"Are you sure you would like to delete this comment?"),c["default"].createElement(y.Button,{onClick:this.deleteComment.bind(this)},"Yes"),c["default"].createElement(y.Button,{onClick:this.close.bind(this)},"No"))))}}]),t}(c["default"].Component),O=function(e){function t(){return a(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),m(t,[{key:"render",value:function(){return c["default"].createElement(y.Grid,null,c["default"].createElement(b.Header,null),c["default"].createElement(C,null))}}]),t}(c["default"].Component);h["default"].render(c["default"].createElement(O,null),document.getElementById("content"))},418:function(e,t,n){e.exports=n(419)},419:function(e,t,n){"use strict";function o(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?u(new e.constructor,e):e}function l(e,t,n){Array.isArray(e)?void 0:r("1",n,e);var o=t[n];Array.isArray(o)?void 0:r("2",n,o)}function a(e,t){if("object"!=typeof t?r("3",y.join(", "),d):void 0,s.call(t,d))return 1!==Object.keys(t).length?r("4",d):void 0,t[d];var n=o(e);if(s.call(t,h)){var m=t[h];m&&"object"==typeof m?void 0:r("5",h,m),n&&"object"==typeof n?void 0:r("6",h,n),u(n,t[h])}s.call(t,c)&&(l(e,t,c),t[c].forEach(function(e){n.push(e)})),s.call(t,i)&&(l(e,t,i),t[i].forEach(function(e){n.unshift(e)})),s.call(t,f)&&(Array.isArray(e)?void 0:r("7",f,e),Array.isArray(t[f])?void 0:r("8",f,t[f]),t[f].forEach(function(e){Array.isArray(e)?void 0:r("8",f,t[f]),n.splice.apply(n,e)})),s.call(t,p)&&("function"!=typeof t[p]?r("9",p,t[p]):void 0,n=t[p](n));for(var E in t)w.hasOwnProperty(E)&&w[E]||(n[E]=a(e[E],t[E]));return n}var r=n(6),u=n(3),m=n(24),s=(n(7),{}.hasOwnProperty),c=m({$push:null}),i=m({$unshift:null}),f=m({$splice:null}),d=m({$set:null}),h=m({$merge:null}),p=m({$apply:null}),y=[c,i,f,d,h,p],w={};y.forEach(function(e){w[e]=!0}),e.exports=a}});